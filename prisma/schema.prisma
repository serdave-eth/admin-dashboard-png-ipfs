generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Content {
  id                  String   @id @default(cuid())
  userWalletAddress   String   @map("user_wallet_address")
  filename            String
  fileType            String   @map("file_type")
  fileSize            BigInt   @map("file_size")
  ipfsCid             String   @unique @map("ipfs_cid")
  createdAt           DateTime @default(now()) @map("created_at")
  coinContractAddress String?  @map("coin_contract_address")
  minimumTokenAmount  String?  @map("minimum_token_amount")

  @@index([userWalletAddress])
  @@index([createdAt])
  @@map("content")
}

model WalletLink {
  id                   String   @id @default(cuid())
  primaryWalletAddress String   @unique @map("primary_wallet_address")
  zoraWalletAddress    String?  @map("zora_wallet_address")
  linkedAt             DateTime @default(now()) @map("linked_at")

  @@index([primaryWalletAddress])
  @@map("wallet_links")
}
